(this["webpackJsonpema-john-simple"]=this["webpackJsonpema-john-simple"]||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){},55:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(4),r=c.n(n),i=c(37),s=c.n(i),a=(c(51),c(17)),j=c(12),o=(c(52),c(9)),l=c(29),u=c(38),b={apiKey:"AIzaSyADvY2AflwvMchIE1ifrZHXz3v4zFAggEs",authDomain:"ema-john-simple-full-project.firebaseapp.com",projectId:"ema-john-simple-full-project",storageBucket:"ema-john-simple-full-project.appspot.com",messagingSenderId:"650659991542",appId:"1:650659991542:web:ac268214d2b67a509d01d7",measurementId:"G-1SREV0M7CC"};(function(){Object(u.a)(b)})();var d=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),c=t[0],r=t[1],i=Object(l.b)(),s=new l.a;return Object(n.useEffect)((function(){Object(l.c)(i,(function(e){e&&r(e)}))}),[]),{user:c,loginWithGoogle:function(){return Object(l.d)(i,s)},logOut:function(){Object(l.e)(i).then((function(){r({})}))}}},O=c(3),h=Object(n.createContext)(),p=function(e){var t=e.children,c=d();return Object(O.jsx)(h.Provider,{value:c,children:t})},x=function(){return Object(n.useContext)(h)},f=c.p+"static/media/logo.0dd9a510.png",m=(c(55),function(){var e=x(),t=e.user,c=e.logOut;return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("img",{className:"logo",src:f,alt:""}),Object(O.jsxs)("nav",{children:[Object(O.jsx)(a.c,{to:"/shop",children:"Shop"}),Object(O.jsx)(a.c,{to:"/review",children:"Order Review"}),Object(O.jsx)(a.c,{to:"/inventory",children:"Manage Inventory"}),t.email?Object(O.jsx)("button",{onClick:c,children:"Log Out"}):Object(O.jsx)(a.c,{to:"/login",children:"Login"})]})]})}),v=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"This is Inventory"})})},g=(c(63),function(){var e,t=x().loginWithGoogle,c=Object(j.h)(),n=Object(j.g)(),r=(null===(e=c.state)||void 0===e?void 0:e.from)||"/shop";return Object(O.jsx)("div",{className:"authentication",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Please Login"}),Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{className:"input",type:"email",name:"email",id:"",placeholder:"Your Email"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{className:"input",type:"password",name:"password",id:"",placeholder:"Your Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{className:"btn-authentication",type:"submit",value:"submit"})]}),Object(O.jsxs)("p",{children:["New User ? ",Object(O.jsx)(a.b,{className:"link",to:"/register",children:"Create New Account"})]}),Object(O.jsx)("button",{className:"btn-regular",onClick:function(){t().then((function(e){n.push(r)}))},children:"Google Sign In"})]})})}),y=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"404"}),Object(O.jsx)("p",{children:"This page is not found"})]})},N=function(){return localStorage.getItem("shopping_cart")},S=function(e){localStorage.setItem("shopping_cart",JSON.stringify(e))},w=function(){var e=N();return e?JSON.parse(e):{}},k=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){if(e.length){var t=w(),c=[],n=function(n){var r=e.find((function(e){return e.key===n}));if(r){var i=t[n];r.quantity=i,c.push(r)}};for(var r in t)n(r);i(c)}}),[e]),[r,i]},C=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){fetch("./products.json").then((function(e){return e.json()})).then((function(e){r(e),r(e)}))}),[]),[c,r]},I=c(13),P=(c(64),function(e){var t=e.cart;console.log(e.children);var c,n=0,r=0,i=Object(I.a)(t);try{for(i.s();!(c=i.n()).done;){var s=c.value;s.quantity||(s.quantity=1),r+=s.price*s.quantity,n+=s.quantity}}catch(l){i.e(l)}finally{i.f()}var a=r>0?15:0,j=.1*(r+a),o=r+a+j;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Order Summary"}),Object(O.jsxs)("h5",{children:["Items Ordered: ",n]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Total: ",r.toFixed(2)]}),Object(O.jsxs)("p",{children:["Shipping: ",a]}),Object(O.jsxs)("p",{children:["tax: ",j.toFixed(2)]}),Object(O.jsxs)("p",{children:["Grand Total: ",o.toFixed(2)]}),e.children]})}),A=function(e){var t=e.product,c=t.name,n=t.price,r=t.quantity,i=t.key,s=e.handleRemove;return Object(O.jsx)("div",{className:"product",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:c}),Object(O.jsxs)("h2",{children:["Price: ",n]}),Object(O.jsxs)("h4",{children:["Quantity: ",r]}),Object(O.jsx)("button",{onClick:function(){return s(i)},className:"btn-regular",children:"Remove"})]})})},E=(c(65),function(){var e=C(),t=Object(o.a)(e,1)[0],c=k(t),n=Object(o.a)(c,2),r=n[0],i=n[1],s=Object(j.g)(),l=function(e){var t=r.filter((function(t){return t.key!==e}));i(t),function(e){var t=N();if(t){var c=JSON.parse(t);delete c[e],S(c)}}(e)};return Object(O.jsxs)("div",{className:"review-container",children:[Object(O.jsx)("div",{className:"order-container",children:r.map((function(e){return Object(O.jsx)(A,{product:e,handleRemove:l},e.key)}))}),Object(O.jsx)("div",{children:Object(O.jsx)(P,{cart:r,children:Object(O.jsx)(a.b,{children:Object(O.jsx)("button",{onClick:function(){s.push("/shipping")},className:"btn-regular",children:"Procced To Order"})})})})]})}),T=c.p+"static/media/giphy.46a86830.gif",q=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:T,alt:""})})},F=c(23),R=c(46),L=["children"],G=function(e){var t=e.children,c=Object(R.a)(e,L),n=x().user;return Object(O.jsx)(j.b,Object(F.a)(Object(F.a)({},c),{},{render:function(e){var c=e.location;return n.email?t:Object(O.jsx)(j.a,{to:{pathname:"/login",state:{from:c}}})}}))},J=function(){var e=x().loginWithGoogle;return Object(O.jsx)("div",{className:"authentication",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{children:[Object(O.jsx)("h2",{children:"Please Register"}),Object(O.jsx)("input",{className:"input",type:"email",name:"email",id:"",placeholder:"Your Email"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{className:"input",type:"password",name:"password",id:"",placeholder:"Your Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{className:"input",type:"password",name:"password",id:"",placeholder:"Re-enter Password"}),Object(O.jsx)("br",{})," ",Object(O.jsx)("br",{}),Object(O.jsx)("input",{className:"btn-authentication",type:"submit",value:"submit"})]}),Object(O.jsxs)("p",{children:["Already Have An Account ? ",Object(O.jsx)(a.b,{className:"link",to:"/login",children:"Login"})]}),Object(O.jsx)("button",{className:"btn-regular",onClick:e,children:"Google Sign In"})]})})},V=c(41),Y=(c(66),function(){var e=Object(V.a)(),t=e.register,c=e.handleSubmit,n=e.formState.errors,r=x().user;return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{className:"form",onSubmit:c((function(e){console.log(e)})),children:[Object(O.jsx)("input",Object(F.a)({defaultValue:r.displayName},t("name"))),Object(O.jsx)("input",Object(F.a)({defaultValue:r.email},t("email",{required:!0}))),n.email&&Object(O.jsx)("span",{className:"error",children:"This field is required"}),Object(O.jsx)("input",Object(F.a)({placeholder:"Address",defaultValue:""},t("address"))),Object(O.jsx)("input",Object(F.a)({placeholder:"City",defaultValue:""},t("city"))),Object(O.jsx)("input",Object(F.a)({placeholder:"Phone",defaultValue:""},t("phone"))),Object(O.jsx)("input",{type:"submit"})]})})}),M=c(14),z=c(42),B=c(44),D=(c(70),c(43)),W=function(e){var t=e.product,c=t.name,n=t.img,r=t.seller,i=t.price,s=t.stock,a=t.star;return Object(O.jsxs)("div",{className:"product",children:[Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:n,alt:""})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{className:"product-name",children:c}),Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:["by: ",r]})}),Object(O.jsxs)("p",{children:["Price: ",i]}),Object(O.jsx)("p",{children:Object(O.jsxs)("small",{children:["only ",s," left in stock - order soon"]})}),Object(O.jsx)(D.a,{initialRating:a,emptySymbol:"far fa-star icon-color",fullSymbol:"fas fa-star icon-color",readonly:!0}),Object(O.jsx)("br",{}),Object(O.jsxs)("button",{onClick:function(){return e.handleAddToCart(e.product)},className:"btn-regular",children:[Object(O.jsx)(z.a,{icon:B.a})," add to cart"]})]})]})},H=(c(71),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),j=s[0],l=s[1],u=Object(n.useState)([]),b=Object(o.a)(u,2),d=b[0],h=b[1];Object(n.useEffect)((function(){fetch("./products.json").then((function(e){return e.json()})).then((function(e){r(e),h(e)}))}),[]),Object(n.useEffect)((function(){if(c.length){var e=w(),t=[],n=function(n){var r=c.find((function(e){return e.key===n}));if(r){var i=e[n];r.quantity=i,t.push(r)}};for(var r in e)n(r);l(t)}}),[c]);var p=function(e){var t=[].concat(Object(M.a)(j),[e]);l(t),function(e){var t=N(),c={};if(t)if((c=JSON.parse(t))[e]){var n=c[e]+1;c[e]=n}else c[e]=1;else c[e]=1;S(c)}(e.key)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"search-container",children:Object(O.jsx)("input",{type:"text",onChange:function(e){var t=e.target.value,n=c.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));h(n)},placeholder:"Search Product"})}),Object(O.jsxs)("div",{className:"shop-container",children:[Object(O.jsx)("div",{className:"product-container",children:d.map((function(e){return Object(O.jsx)(W,{product:e,handleAddToCart:p},e.key)}))}),Object(O.jsx)("div",{className:"cart-container",children:Object(O.jsx)(P,{cart:j,children:Object(O.jsx)(a.b,{to:"/review",children:Object(O.jsx)("button",{className:"btn-regular",children:"Review Your Item"})})})})]})]})});var _=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(p,{children:Object(O.jsxs)(a.a,{children:[Object(O.jsx)(m,{}),Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{exact:!0,path:"/",children:Object(O.jsx)(H,{})}),Object(O.jsx)(j.b,{path:"/shop",children:Object(O.jsx)(H,{})}),Object(O.jsx)(j.b,{path:"/inventory",children:Object(O.jsx)(v,{})}),Object(O.jsx)(j.b,{path:"/review",children:Object(O.jsx)(E,{})}),Object(O.jsx)(G,{path:"/shipping",children:Object(O.jsx)(Y,{})}),Object(O.jsx)(G,{path:"/placeorder",children:Object(O.jsx)(q,{})}),Object(O.jsx)(j.b,{path:"/login",children:Object(O.jsx)(g,{})}),Object(O.jsx)(j.b,{path:"/register",children:Object(O.jsx)(J,{})}),Object(O.jsx)(j.b,{path:"*",children:Object(O.jsx)(y,{})})]})]})})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(_,{})}),document.getElementById("root")),K()}},[[72,1,2]]]);
//# sourceMappingURL=main.12b7058c.chunk.js.map